## 무인 경비 신원 확인 시스템



### 시스템에 대해

해당 시스템은 건물 또는 실내에 접근하는 인원에 대해 신원확인을 진행하고 신원이 확인된다면 출입을 허가하는 시스템입니다. 유저에 대한 정보 및 권한을 시스템이 독립적으로 가지고 있으며 하드웨어에 따라 유저의 신원을 어떻게 파악할 것인지 나뉩니다. 현재 시스템은 ID의 입력으로 판별합니다. 지원하는 기능은 다음과 같습니다.

- 신원 파악 후 출입문 개방

  만일 권한이 없는 유저라면 접근하지 못합니다. 

- 문을 폐쇄 모드로 만들거나 개방 모드로 만듬 (관리자만 가능)

  폐쇄 상태일 때에는 해당 상태가 풀릴 때까지 문이 열리지 않습니다.

- 신원에 대해 추가하거나 수정하는 기능 (관리자만 가능)



### 구현 단계의 Vision & Scope

CLI 형식의 Proto type버전 개발을 완성합니다. 간단한 ID로 신원 확인하는 정도까지 구현합니다.



### Class Diagram 

먼저 두 클래스 다이어그램의 공통점으로 Boundary,Main Control,데이터 저장과 관련된 Store 크게 세 클래스로 나누고 User 와 Door엔티티를 가진다는 점은 같습니다. 하지만 이전 단계의 클래스 다이어그램의 경우 Coupling이 높아 변경이 어렵고 데이터 관련 클래스도 Singleton이 아닌 등의 문제가 존재합니다. 때문에 이를 수정합니다.

1. 컨트롤 클래스는 I/F를 통해서만 접근하며 컨트롤 또한 I/F로 다른 객체에 접근한다.

   Coupling을 낮추기 위함입니다. 현재 CLI로 UI를 구성하는점, 데이터를 Hash Map을 이용하는점을 비롯, 차후 변경할 가능성이 높으므로 변경을 쉽게 하기 위해 I/F로 접근합니다.

2. 데이터 저장 클래스를 Singleton으로 구성한다.

   데이터를 저장하는 객체를 여러개 두면 안되므로 MemoryMap을 Singleton으로 구성해 이용하도록 합니다.

3. Door, User에 대한 상태 표기를 위한 Enum을 추가함.

   상태 표현을 위해 Enum을 추가해 확인하도록 합니다.

4. 자주 사용하는 알고리즘과 Exception을 따로 정의해 Util로 분류함.

   신원에 대한 확인 등의 작업은 여러 메소드에서 반복적으로 나타납니다. 때문에 Reuse를 높이고 코드의 반복을 줄이기 위해 따로 클래스에 정의합니다. 

   각종 예외에 대한 Exception클래스를 두고 관리합니다.

설계 단계에서의 Class Diagram에서 크게 위와 같은 네가지를 추가해 클래스 다이어그램을 다시 구성했습니다.

- 구현 단계 전체 시스템에 대한 Class Diagram

![AccessSystem_FinalClassDiagram](/Users/gilwoongkang/1902-note/객체지향분석설계_개인프로젝트/png/AccessSystem_FinalClassDiagram.png)

- 설계 단계에서의 Class Diagram

![ClassDiagram](/Users/gilwoongkang/1902-note/객체지향분석설계_개인프로젝트/png/ClassDiagram.png)



### Design Refinement

먼저 대부분의 클래스에서 최대한 GRASP의 Expert와 Creator를 지키도록 작성했습니다. 두가지 사항에 대해서는 작성하지 않았습니다.

| Before 단계의 Class나 설계 부분 |     After 단계의 Class나 설계부분     | 적용한 설계 개념(GRASP,Gof Patterns 등) |    Architecture Design Rationale(본인이 생각하는 합리성)     | 기타 |
| :-----------------------------: | :-----------------------------------: | :-------------------------------------: | :----------------------------------------------------------: | ---- |
|                -                | DoorControl,AccessControl,AccessStore |          Indirect,Low coupling          | 차후 각 레이어의 변경의 가능성이 있기에 I/F를 통해 Coupling을 줄인다. |      |
|          데이터베이스           |               MemoryMap               |                Singleton                | 데이터를 저장하는 객체는 반드시 하나만 생성되어야 하므로 Singleton 개념으로 구성한다. |      |
|            Door,User            |     Door,DoorState,User,UserLevel     |                    -                    | 각 엔티티에서 상태, 권한에 대한 정보를 분리해 작성한다. 더 세분화 해서 작성 함을 목적으로 한다. |      |
|                -                |               CheckUtil               |                Strategy                 | 자주 등장하게 되는 알고리즘에 대해 클래스를 따로 작성하여 관리해 재사용성을 높이고 코드를 줄인다. |      |
|                -                |            각종 Exception             |                    -                    | 발생 가능성이 높은 예외에 대해 Exception클래스를 작성해 관리한다. |      |



### Implementation Codes & Running 

별도 구현한 프로그램과 작동한 동영상을 압축 파일에 포합했습니다.